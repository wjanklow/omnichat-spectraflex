(()=>{const WS_URL="wss://639f11824ef2b8.lhr.life/ws";const d=document,c=d.createElement("div");c.id="omnichat";c.style="position:fixed;bottom:24px;right:24px;z-index:9999";c.innerHTML=`<button id='oc-btn' style='padding:12px 16px;border-radius:24px;background:#ff3366;color:#fff;font:16px sans-serif;cursor:pointer'>Chat with us</button><iframe id='oc-frame' style='display:none;width:360px;height:520px;border:0;border-radius:12px;box-shadow:0 4px 24px rgba(0,0,0,.3)'></iframe>`;d.body.appendChild(c);const f=d.getElementById("oc-frame"),b=d.getElementById("oc-btn");b.onclick=()=>{f.style.display=f.style.display==="none"?"block":"none"};f.srcdoc=`<html><body style='margin:0;font-family:sans-serif'><div id='log' style='height:90%;overflow:auto;padding:12px'></div><form id='frm' style='display:flex'><input id='msg' style='flex:1;border:0;padding:8px;font-size:14px' placeholder='Ask a questionâ€¦'/></form><script>const ws=new WebSocket('${WS_URL}');const log=document.getElementById('log');document.getElementById('frm').onsubmit=e=>{e.preventDefault();ws.send(JSON.stringify({message:msg.value}));log.innerHTML+=\\`<p style=color:#888>\\${msg.value}</p>\\`;msg.value='';};ws.onmessage=e=>{const d=JSON.parse(e.data);log.innerHTML+=\\`<p>\\${d.answer}</p>\\`;log.scrollTop=log.scrollHeight;};</script></body></html>`})();
